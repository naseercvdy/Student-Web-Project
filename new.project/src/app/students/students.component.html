<div class="container">
    <div class="page-tt-bg">
        <div class="container">    
        <h1 class="h1-bold p-0 pl-4 mob-pl">Students List</h1>
        </div>
    </div>
    
    <a routerLink="/Students/new-students/"><button class="btn btn-success pull-right" > Add New Students</button></a>
    <br>
    <br>
    <div class="input-group">
      <input type="text" name="txtFilter"  (keyup)="applyFilter($event)"   class="form-control" placeholder="Search this Students">
      <div class="input-group-append">
        <button class="btn btn-secondary" type="button">
          <i class="fa fa-search">Filter</i>
        </button>
      </div>
    </div>
    <table class="table table-striped">
        <thead>
          <tr>
           
            <th scope="col">NameEn
              <br/> 
              <div style="padding-left: 5px; opacity: 50%;">
                  <a (click)="sortAsc('nameEn')"  style="cursor: pointer;">               
                    <img src="assets/img/arrow-down-short.svg">
                  </a>
                  <a (click)="sortDsc('nameEn')" style="cursor: pointer;"> 
                    <img src="assets/img/arrow-up-short.svg">
                  </a>
                </div>
            </th>
            <th scope="col">NameAr
              <br/> 
              <div style="padding-left: 5px; opacity: 50%;">
                  <a (click)="sortAsc('nameAr')"  style="cursor: pointer;">               
                    <img src="assets/img/arrow-down-short.svg">
                  </a>
                  <a (click)="sortDsc('nameAr')" style="cursor: pointer;"> 
                    <img src="assets/img/arrow-up-short.svg">
                  </a>
                </div>
            </th>
            <th scope="col">PhoneNumber
              <br/> 
              <div style="padding-left: 5px; opacity: 50%;">
                  <a (click)="sortAsc('phoneNumber')"  style="cursor: pointer;">               
                    <img src="assets/img/arrow-down-short.svg">
                  </a>
                  <a (click)="sortDsc('phoneNumber')" style="cursor: pointer;"> 
                    <img src="assets/img/arrow-up-short.svg">
                  </a>
                </div>
            </th>
            <th scope="col">Email
              <br/> 
              <div style="padding-left: 5px; opacity: 50%;">
                  <a (click)="sortAsc('email')"  style="cursor: pointer;">               
                    <img src="assets/img/arrow-down-short.svg">
                  </a>
                  <a (click)="sortDsc('email')" style="cursor: pointer;"> 
                    <img src="assets/img/arrow-up-short.svg">
                  </a>
                </div>
            </th>
            <th scope="col">CourseName
              <br/> 
      
        
              <div style="padding-left: 5px; opacity: 50%;">
                  <a (click)="sortAsc('courseName')"  style="cursor: pointer;">               
                    <img src="assets/img/arrow-down-short.svg">
                  </a>
                  <a (click)="sortDsc('courseName')" style="cursor: pointer;"> 
                    <img src="assets/img/arrow-up-short.svg">
                  </a>
                </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of StudentsListData">
         
            <td>{{item.nameEn }} </td>
            <td>{{item.nameAr }}</td>
            <td>{{item.phoneNumber }}</td>
            <td>{{item.email }}</td>
            <td>{{item.courseName }}</td>
            <td>
              <button class="btn btn-sm btn-info" *ngIf="item.courseID == 0" (click)="openModel(item.studentsID )"  > 
            
                Assign Course
              </button>
              <button class="btn btn-sm btn-info"  style="margin-left: 15px;" *ngIf="item.courseID >= 1" (click)="navigatetoUnAssign(item.studentsID);">        
               Un Assign Course
              </button>
              <button class="btn btn-sm btn-primary" style="margin-left: 15px;"  (click)="navigatetoEdit(item.studentsID)" > 
            
                Edit
              </button>  
              <button class="btn btn-sm btn-danger"    style="margin-left: 15px;" (click)="navigatetoDelete(item.studentsID);"> 
            
                Delete
              </button>
        </td>
          </tr>
          
        </tbody>
      </table>
    </div>

    <div class="modal"  id="myModal" >
      <div class="modal-dialog">
        <div class="modal-content">
    
          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Assign Course</h4>
            <button type="button" class="btn-close"  (click)="CloseModel()"  data-bs-dismiss="modal"></button>
          </div>
    
          <!-- Modal body -->
          <div class="modal-body">
            <div *ngIf="studentsFilter">
    
        
            <div class="col-lg-12">
              <div class="form-group">
                <label for="txtNameEn">NameEn</label>
                <input type="text" class="form-control" name="nameEn" [(ngModel)]="studentsFilter.nameEn" #nameEn="ngModel"  readonly    aria-describedby="txtNameEn" placeholder="Enter NameEn">
              
              </div>
        </div>
        <div class="col-lg-12">
          <div class="form-group">
            <label for="Email">Course</label>
            <select  class="form-control" name="courseID"  [(ngModel)]="studentsFilter.courseID"> 
                <option value="default">----</option> 
                <option *ngFor="let player of CourseMasterData" [value]="player.courseID" > 
                    {{player.courseName}} 
                </option> 
            </select> 
            
          </div>
    </div>
          </div>
        </div>
          <!-- Modal footer -->
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="navigatetoAssign()">Save changes</button>
            <button type="button" class="btn btn-danger" (click)="CloseModel()" data-bs-dismiss="modal">Close</button>
          </div>
    
        </div>
      </div>
    </div>